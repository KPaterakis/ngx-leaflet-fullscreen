!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("leaflet")):"function"==typeof define&&define.amd?define("@runette/ngx-leaflet-fullscreen",["exports","@angular/core","leaflet"],n):n(((e=e||self).runette=e.runette||{},e.runette["ngx-leaflet-fullscreen"]={}),e.ng.core,e.leaflet)}(this,(function(e,n,t){"use strict";var l="default"in t?t.default:t;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;!function(e,n){e(n={exports:{}},n.exports)}((function(e){var n;n=function(e){e.Control.Fullscreen=e.Control.extend({options:{position:"topleft",title:{false:"View Fullscreen",true:"Exit Fullscreen"}},onAdd:function(n){var t=e.DomUtil.create("div","leaflet-control-fullscreen leaflet-bar leaflet-control");return this.link=e.DomUtil.create("a","leaflet-control-fullscreen-button leaflet-bar-part",t),this.link.href="#",this._map=n,this._map.on("fullscreenchange",this._toggleTitle,this),this._toggleTitle(),e.DomEvent.on(this.link,"click",this._click,this),t},onRemove:function(e){e.off("fullscreenchange",this._toggleTitle,this)},_click:function(n){e.DomEvent.stopPropagation(n),e.DomEvent.preventDefault(n),this._map.toggleFullscreen(this.options)},_toggleTitle:function(){this.link.title=this.options.title[this._map.isFullscreen()]}}),e.Map.include({isFullscreen:function(){return this._isFullscreen||!1},toggleFullscreen:function(e){var n=this.getContainer();this.isFullscreen()?e&&e.pseudoFullscreen?this._disablePseudoFullscreen(n):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this._disablePseudoFullscreen(n):e&&e.pseudoFullscreen?this._enablePseudoFullscreen(n):n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):n.msRequestFullscreen?n.msRequestFullscreen():this._enablePseudoFullscreen(n)},_enablePseudoFullscreen:function(n){e.DomUtil.addClass(n,"leaflet-pseudo-fullscreen"),this._setFullscreen(!0),this.fire("fullscreenchange")},_disablePseudoFullscreen:function(n){e.DomUtil.removeClass(n,"leaflet-pseudo-fullscreen"),this._setFullscreen(!1),this.fire("fullscreenchange")},_setFullscreen:function(n){this._isFullscreen=n;var t=this.getContainer();n?e.DomUtil.addClass(t,"leaflet-fullscreen-on"):e.DomUtil.removeClass(t,"leaflet-fullscreen-on"),this.invalidateSize()},_onFullscreenChange:function(e){var n=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;n!==this.getContainer()||this._isFullscreen?n!==this.getContainer()&&this._isFullscreen&&(this._setFullscreen(!1),this.fire("fullscreenchange")):(this._setFullscreen(!0),this.fire("fullscreenchange"))}}),e.Map.mergeOptions({fullscreenControl:!1}),e.Map.addInitHook((function(){var n;if(this.options.fullscreenControl&&(this.fullscreenControl=new e.Control.Fullscreen(this.options.fullscreenControl),this.addControl(this.fullscreenControl)),"onfullscreenchange"in document?n="fullscreenchange":"onmozfullscreenchange"in document?n="mozfullscreenchange":"onwebkitfullscreenchange"in document?n="webkitfullscreenchange":"onmsfullscreenchange"in document&&(n="MSFullscreenChange"),n){var t=e.bind(this._onFullscreenChange,this);this.whenReady((function(){e.DomEvent.on(document,n,t)})),this.on("unload",(function(){e.DomEvent.off(document,n,t)}))}})),e.control.fullscreen=function(n){return new e.Control.Fullscreen(n)}},e.exports=n(l)}));var o=function(){function e(){this.options={}}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.map.removeControl(this.control)},Object.defineProperty(e.prototype,"map",{get:function(){return this._map},set:function(e){e&&(this._map=e,this.control=t.control.fullscreen(this.options),this.control.addTo(e),e.on("enterFullscreen",(function(){return e.invalidateSize()})),e.on("exitFullscreen",(function(){return e.invalidateSize()})))},enumerable:!0,configurable:!0}),e.decorators=[{type:n.Component,args:[{selector:"leaflet-fullscreen-control",template:""}]}],e.ctorParameters=function(){return[]},e.propDecorators={options:[{type:n.Input}],map:[{type:n.Input}]},e}();var s=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[o],imports:[],exports:[o]}]}],e}();e.FullscreenControlComponent=o,e.NgxLeafletFullscreenModule=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=runette-ngx-leaflet-fullscreen.umd.min.js.map